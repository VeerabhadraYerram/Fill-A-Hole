# 02_Feature_Logic

**Focus:** Issue Workflow & Applications
- **Raise Issue:** Form handling Name, Description, Upvotes, and threaded Comments. Ensure it links with mandatory geotagged media logic from `/04_GIS_Media`.
- **Organization Tagging:** Allow tagging specific organizations for intervention.
- **Job Board Applications:** The volunteer view to see job details, participants, and apply via forms generated by `/05_Systems_AI`.

Place all your user-flow components and screens related to the community feed here.

## üéØ What Does Feature Logic Do? (Simple Explanation)

Think of this workstream as the **"brain"** of the issue reporting system:

### **1. Raise Issue (The Report Form)**
- When a volunteer finds a pothole or safety issue, they fill out a form
- Our code **checks** if everything is filled in correctly
- We **verify** the photo they uploaded has real GPS location data (to prevent fake reports)
- We **ask AI** to estimate how many people/supplies are needed to fix it
- We **save** everything in a database for NGOs to see and respond

### **2. Organization Tagging (Getting Help)**
- Volunteers can "tag" or mention specific NGOs (like "Delhi Roads Authority")
- Our code **notifies** those organizations immediately
- The tagged org can then see the issue and decide to help

### **3. Job Board Applications (Volunteering Opportunities)**
- NGOs post jobs like "Need 10 volunteers to fix potholes on MG Road"
- Volunteers can **apply** for these jobs using a form
- Our code **tracks** applications and lets NGOs accept/reject them
- Progress is shown: "2 out of 10 volunteers joined"

**In Summary:** The Feature Logic is the **invisible engine** that connects volunteers' reports to NGOs' responses, all while keeping data organized and accurate.

### üõ†Ô∏è Developer Integration Guide

Here is a quick overview of how other modules should interact with this logic:

- **Creating an Issue (`IssueService.js`):**
  Call `IssueService.submitIssue(db, issueData, userUid)` passing the initialized Firestore DB instance, the form validated data, and the authenticated user UID.
- **Commenting (`CommentingService.js`):**
  Call `CommentingService.addComment(db, postId, userUid, authDetails, text)` to implement real-time nested commenting on existing threads.
- **Organization Tagging (`OrganizationTaggingService.js`):**
  Call `OrganizationTaggingService.tagOrganizationsInPost(db, postId, ["orgId1", "orgId2"])` from the UI when a user multi-selects organizations to notify them.
- **Job Board Applications (`ApplicationService.js`):**
  Call `ApplicationService.submitApplication(db, userId, jobPostId, formResponse)` to apply for jobs and `updateApplicationStatus(...)` for admin approvals.
- **Firestore Queries (`firestoreQueries.js`):**
  Provides reusable modular query abstractions like `getFilteredPosts` and transaction handlers such as `upvotePostAtomically`.
